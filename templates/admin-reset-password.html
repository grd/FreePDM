{{ define "admin-reset-password.html" }}
{{ template "base" . }}
{{ end }}

{{ define "title" }}Reset Password{{ end }}

{{ define "content" }}
<div class="max-w-md mx-auto mt-10 bg-gray-800 text-white shadow-lg rounded-lg p-6">
  <h2 class="text-xl font-semibold mb-4">Reset Password for {{ .User.FullName }}</h2>

  <form method="POST" action="/admin/users/reset-password/{{ .User.ID }}" class="space-y-6">
    <div>
      <label for="new_password" class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
      <div class="relative">
        <input type="password" id="new_password" name="new_password" required
               class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <button type="button" onclick="togglePassword()"
                class="absolute inset-y-0 right-0 px-3 py-2 text-sm text-gray-500 hover:text-gray-700 focus:outline-none">
          Show
        </button>
      </div>
    </div>

    <div class="flex justify-end space-x-4">
      <a href="/admin/users" class="bg-gray-300 hover:bg-gray-400 text-gray-900 px-4 py-2 rounded">Cancel</a>
      <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded">Save</button>
    </div>
  </form>
</div>

<script>
  function togglePassword() {
    const input = document.getElementById('new_password');
    const btn = event.target;
    if (input.type === 'password') {
      input.type = 'text';
      btn.textContent = 'Hide';
    } else {
      input.type = 'password';
      btn.textContent = 'Show';
    }
  }
</script>
{{ end }}
